#import "../fragments/issueFields.graphql"

query GetProjectIssues($projectId: ID!, $first: Int!) {
  node(id: $projectId) {
    __typename
    ... on ProjectV2 {
      id
      items(first: $first) {
        nodes {
          id
          fieldValues(first: 20) {
            nodes {
              __typename
              ... on ProjectV2ItemFieldSingleSelectValue {
                name
                field {
                  ... on ProjectV2SingleSelectField {
                    id
                    name
                  }
                }
              }
            }
          }
          content {
            __typename
            ... on Issue {
              ...IssueFields
            }
            ... on DraftIssue {
              id
              title
              body
              createdAt
              updatedAt
            }
          }
        }
      }
    }
  }
}
